<span>-- @path PNML=</span><del style="background:#ffe6e6;">/anatlyzer.evaluation.quickfixes.sosym2015/metamodels/PNML_simplified.ecore&para;<br>-- @path PetriNet=/anatlyzer.evaluation.quickfixes.sosym2015/metamodels/</del><ins style="background:#e6ffe6;">D:\java\ATLproject\neonssmallprojects\anatlyzer.evaluation.mutants\trafo\PNML.ecore&para;<br>-- @path PetriNet=D:\java\ATLproject\neonssmallprojects\anatlyzer.evaluation.mutants\trafo\</ins><span>PetriNet.ecore&para;<br></span><del style="background:#ffe6e6;">&para;<br>&para;<br></del><span>module PNML2PetriNet;&para;<br>create OUT : PetriNet from IN : PNML;&para;<br>&para;<br></span><del style="background:#ffe6e6;">-- The PetriNet rule generates a PetriNet which corresponds to the input NetElement included in the PNMLDocument.&para;<br>-- Name of the generated PetriNet is copied from the one of the input NetElement, by recovering the value of the PNML Label included in the PNML Name of the NetElement.&para;<br>-- Its set of Elements is the corresponding set named elementsSet calculated in the using clause.&para;<br>-- And its set of Arcs is the corresponding set named arcsSet calculated in the using clause.&para;<br></del><span>rule PetriNet {&para;<br>from&para;<br>n : PNML!PNMLDocument&para;<br>using&para;<br>{&para;<br>elementsSet : Sequence(PNML!NetContentElement) = PNML!NetContentElement.allInstances();&para;<br>arcsSet : Sequence(PNML!Arc) = PNML!Arc.allInstances()-&gt;select(a |&para;<br>a.source.oclIsKindOf(PNML!Place) and a.target.oclIsKindOf(PNML!Transition) or a.source.oclIsKindOf(PNML!Transition) and a.target.oclIsKindOf(PNML!Place)&para;<br>);</span><del style="background:#ffe6e6;"> -- This encodes a pre-condition&para;<br></del><span>&para;<br>}&para;<br>to&para;<br>p : PetriNet!PetriNet (&para;<br>location &lt;- n.location,&para;<br>name &lt;- if not n.nets-&gt;first().name.oclIsUndefined() then&para;<br>n.nets-&gt;first().name.labels-&gt;first().text&para;<br>else&para;<br>'aPetriNet'&para;<br>endif,&para;<br>elements &lt;- elementsSet,&para;<br>arcs &lt;- arcsSet&para;<br>)&para;<br>}</span><del style="background:#ffe6e6;"> -- The Place rule generates a Place which corresponds to the input Place.&para;<br>-- Name of the generated Place is copied from the one of the input Place , by recovering the value of the PNML Label included in the PNML Name of the PNML Place.&para;<br>-- The Place rule generates a Place which corresponds to the input Place.&para;<br>-- Name of the generated Place is copied from the one of the input Place , by recovering the value of the PNML Label included in the PNML Name of the PNML Place.&para;<br>rule Place {&para;<br>from&para;<br>n : PNML!Place&para;<br>to&para;<br>p : PetriNet!Place (&para;<br>location &lt;- n.location,&para;<br>name &lt;- if not n.name.oclIsUndefined() then&para;<br>n.name.labels-&gt;first().text&para;<br>else&para;<br>'default'&para;<br>endif,&para;<br>net &lt;- n.net.document&para;<br>)&para;<br>} -- The Transition rule generates a Transition which corresponds to the input Transition .&para;<br>-- Name of the generated Transition is copied from the one of the input Transition , by recovering the value of the PNML Label included in the PNML Name of the PNML Transition .&para;<br>-- The Transition rule generates a Transition which corresponds to the input Transition .&para;<br>-- Name of the generated Transition is copied from the one of the input Transition , by recovering the value of the PNML Label included in the PNML Name of the PNML Transition .</del><ins style="background:#e6ffe6;">&para;<br>&para;<br>rule Place {&para;<br>from&para;<br>n : PNML!Place&para;<br>to&para;<br>p : PetriNet!Place (&para;<br>location &lt;- n.location,&para;<br>name &lt;- if not n.name.oclIsUndefined() then&para;<br>n.name.labels-&gt;first().text&para;<br>else&para;<br>'default'&para;<br>endif,&para;<br>net &lt;- n.net.document&para;<br>)&para;<br>}&para;<br></ins><span>&para;<br>rule Transition {&para;<br>from&para;<br>n : PNML!Transition&para;<br>to&para;<br>p : PetriNet!Transition (&para;<br>location &lt;- n.location,&para;<br>name &lt;- if not n.name.oclIsUndefined() then&para;<br>n.name.labels-&gt;first().text&para;<br>else&para;<br>'default'&para;<br>endif,&para;<br>net &lt;- n.net.document&para;<br>)&para;<br>}</span><del style="background:#ffe6e6;"> -- The PlaceToTransition rule generates a PlaceToTransition which corresponds to the input Arc which has a Place for source and a Transition for Target.&para;<br>-- Name of the generated PlaceToTransition is copied from the one of the input Arc, by recovering the value of the PNML Label included in the PNML Name of the PNML Arc.&para;<br>-- Its from and to references are also copied from the input Arc and correspond respectively to the source and target references.&para;<br>-- The PlaceToTransition rule generates a PlaceToTransition which corresponds to the input Arc which has a Place for source and a Transition for Target.&para;<br>-- Name of the generated PlaceToTransition is copied from the one of the input Arc, by recovering the value of the PNML Label included in the PNML Name of the PNML Arc.&para;<br>-- Its from and to references are also copied from the input Arc and correspond respectively to the source and target references.&para;<br>rule PlaceToTransition {&para;<br>from&para;<br>n : PNML!Arc&para;<br>(&para;<br>-- arc source must be a place and arc target a transition&para;<br>-- arc source must be a place and arc target a transition&para;<br>-- arc source must be a place and arc target a transition&para;<br>-- arc source must be a place and arc target a transition</del><ins style="background:#e6ffe6;">&para;<br>&para;<br>rule PlaceToTransition {&para;<br>from&para;<br>n : PNML!Arc&para;<br>(&para;<br>n.source.oclIsKindOf(PNML!Place) and n.target.oclIsKindOf(PNML!URI)&para;<br>)&para;<br>to&para;<br>p : PetriNet!PlaceToTransition (&para;<br>location &lt;- n.location,&para;<br>name &lt;- if not n.name.oclIsUndefined() then&para;<br>n.name.labels-&gt;first().text&para;<br>else&para;<br>'default'&para;<br>endif,&para;<br>net &lt;- n.net.document,&para;<br>from &lt;- n.source,&para;<br>to &lt;- n.target&para;<br>)&para;<br>}&para;<br>&para;<br>rule TransitionToPlace {&para;<br>from&para;<br>n : PNML!Arc&para;<br>(</ins><span>&para;<br>n.source.oclIsKindOf(PNML!</span><del style="background:#ffe6e6;">Place</del><ins style="background:#e6ffe6;">Transition</ins><span>) and n.target.oclIsKindOf(PNML!</span><del style="background:#ffe6e6;">Transition</del><ins style="background:#e6ffe6;">Place</ins><span>)&para;<br>)&para;<br>to&para;<br>p : PetriNet!</span><del style="background:#ffe6e6;">PlaceTo</del><span>Transition</span><ins style="background:#e6ffe6;">ToPlace</ins><span> (&para;<br>location &lt;- n.location,&para;<br>name &lt;- if not n.name.oclIsUndefined() then&para;<br>n.name.labels-&gt;first().text&para;<br>else&para;<br>'default'&para;<br>endif,&para;<br>net &lt;- n.net.document,&para;<br>from &lt;- n.source,&para;<br>to &lt;- n.target&para;<br>)&para;<br>}</span><del style="background:#ffe6e6;"> </del><ins style="background:#e6ffe6;">&para;<br>&para;<br></ins><span>-- </span><del style="background:#ffe6e6;">The TransitionToPlace rule generates a TransitionToPlace which corresponds to the input Arc which has a Transition for source and a Place for Target.&para;<br>-- Name of the generated TransitionToPlace is copied from the one of the input Arc, by recovering the value of the PNML Label included in the PNML Name of the PNML Arc.&para;<br>-- Its from and to references are also copied from the input Arc and correspond respectively to the source and target references.&para;<br>-- The TransitionToPlace rule generates a TransitionToPlace which corresponds to the input Arc which has a Transition for source and a Place for Target.&para;<br>-- Name of the generated TransitionToPlace is copied from the one of the input Arc, by recovering the value of the PNML Label included in the PNML Name of the PNML Arc.&para;<br>-- Its from and to references are also copied from the input Arc and correspond respectively to the source and target references.&para;<br>rule TransitionToPlace {&para;<br>from&para;<br>n : PNML!Arc&para;<br>(&para;<br>-- arc source must be a transition and arc target a place&para;<br>-- arc source must be a transition and arc target a place&para;<br>-- arc source must be a transition and arc target a place&para;<br>-- arc source must be a transition and arc target a place&para;<br>n.source.oclIsKindOf(PNML!Transition) and n.target.oclIsKindOf(PNML!Place)&para;<br>)&para;<br>to&para;<br>p : PetriNet!TransitionToPlace (&para;<br>location &lt;- n.location,&para;<br>name &lt;- if not n.name.oclIsUndefined() then&para;<br>n.name.labels-&gt;first().text&para;<br>else&para;<br>'default'&para;<br>endif,&para;<br>net &lt;- n.net.document,&para;<br>from &lt;- n.source,&para;<br>to &lt;- n.target&para;<br></del><ins style="background:#e6ffe6;">MUTATION "Operation Call Modification" from endsWith to oclIsKindOf (line 62:1-62:30 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "Iterator Modification" from forAll to select (line 11:32-13:2 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "OutPattern Element Modification" from p:PetriNet to p:PlaceToTransition (line 65:1-75:2 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "Argument Type Modification" from oclIsKindOf:PetriNet to oclIsKindOf:URI (line 62:35-62:70 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "Collection Operation Call Modification" from notEmpty to first (line 68:1-68:26 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "Navigation Modification" from n.location to n.name (line 50:1-50:11 of original transformation</ins><span>)&para;<br></span><del style="background:#ffe6e6;">}</del><span>&para;<br></span>