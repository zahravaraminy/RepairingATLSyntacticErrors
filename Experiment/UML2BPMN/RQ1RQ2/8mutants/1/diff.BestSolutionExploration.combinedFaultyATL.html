<span>-- @path UML=</span><del style="background:#ffe6e6;">/UML2Intalio_correct/metamodels/UML2_3_0_0.ecore&para;<br>-- @path Intalio=/UML2Intalio_correct/metamodels/bpmn.ecore&para;<br>&para;<br>module UML2Intalio;&para;<br>-- MUTATION "OutPattern Element Modification" from activity:Activity to activity:Artifact (line 102:5-105:3 of original transformation)&para;<br>-- MUTATION "Binding-target Modification" from activityType to eAnnotations (line 62:3-62:35 of original transformation)&para;<br>-- MUTATION "Binding-target Modification" from name to author (line 104:3-104:26 of original transformation)&para;<br>-- MUTATION "InPattern Element Modification" from n:OpaqueAction to n:Comment (line 50:7-50:27 of original transformation)&para;<br>-- MUTATION "Iterator Modification" from select to exists (line 44:21-45:36 of original transformation)&para;<br>-- MUTATION "Navigation Modification" from edge.source to edge.isLeaf (line 80:9-80:20 of original transformation)&para;<br>-- MUTATION "Operation Call Modification" from oclIsKindOf to endsWith (line 79:7-79:53 of original transformation)&para;<br>-- MUTATION "Argument Type Modification" from oclAsType:AcceptEventAction to oclAsType:Comment (line 96:5-96:49 of original transformation)&para;<br></del><ins style="background:#e6ffe6;">C:\Users\varaminz\Downloads\Project\workspaceTEST34\anatlyzer.atl.tests.api\trafo\UML2_3_0_0.ecore&para;<br>-- @path Intalio=C:\Users\varaminz\Downloads\Project\workspaceTEST34\anatlyzer.atl.tests.api\trafo\bpmn.ecore&para;<br>module UML2Intalio;</ins><span>&para;<br>create OUT : Intalio from IN : UML;&para;<br>&para;<br>helper context UML!NamedElement def: name : String =&para;<br>if self.name.oclIsUndefined() then&para;<br>''&para;<br>else&para;<br>self.name&para;<br>endif;&para;<br>&para;<br>helper context UML!NamedElement def: toIntalioName : String =&para;<br>self.name + '_' + self.oclType().name;&para;<br>&para;<br>helper context UML!Activity def: allPartitions : Sequence(UML!ActivityPartition) =&para;<br>self.partition-&gt;collect(p |&para;<br>p.allPartitions&para;<br>)-&gt;flatten();&para;<br>&para;<br>helper context UML!ActivityPartition def: allPartitions : Sequence(UML!ActivityPartition) =&para;<br>self.subpartition-&gt;collect(p |&para;<br>p.allPartitions&para;<br>)-&gt;flatten();&para;<br>&para;<br>helper context UML!ExecutableNode def: language : String =&para;<br>'';&para;<br>&para;<br>helper context UML!ActivityNode def: transformed : Boolean =&para;<br>self.oclIsKindOf(UML!ExecutableNode) or self.oclIsKindOf(UML!InitialNode) and self.incoming-&gt;isEmpty() or self.oclIsKindOf(UML!InitialNode) and self.incoming-&gt;exists(edge |&para;<br>edge.source.oclIsKindOf(UML!AcceptEventAction)&para;<br>);&para;<br>&para;<br>rule activity2diagram {&para;<br>from&para;<br>a : UML!Activity&para;<br>to&para;<br>d : Intalio!BpmnDiagram (&para;<br>name &lt;- a.name,&para;<br>pools &lt;- a.allPartitions,&para;<br>artifacts &lt;- UML!ObjectNode.allInstances()&para;<br>)&para;<br>}&para;<br>&para;<br>rule activitypartition2pool {&para;<br>from&para;<br>a : UML!ActivityPartition&para;<br>to&para;<br>p : Intalio!Pool,&para;<br>l : Intalio!Lane (&para;<br>activities &lt;- a.node-&gt;reject(e |&para;<br>e.oclIsKindOf(UML!ObjectNode)&para;<br>)-&gt;</span><del style="background:#ffe6e6;">exists</del><ins style="background:#e6ffe6;">select</ins><span>(e |&para;<br>e.transformed&para;<br>)&para;<br>)&para;<br>}&para;<br>&para;<br>rule opaqueaction {&para;<br>from&para;<br>n : UML!Comment&para;<br>to&para;<br>a : Intalio!Activity (&para;<br>name &lt;- n.</span><del style="background:#ffe6e6;">toIntalioName</del><ins style="background:#e6ffe6;">body</ins><span>&para;<br>)&para;<br>}&para;<br>&para;<br>rule initialnode {&para;<br>from&para;<br>n : UML!InitialNode&para;<br>(&para;<br>not n.incoming-&gt;exists(edge |&para;<br>edge.source.oclIsKindOf(UML!AcceptEventAction)&para;<br>)&para;<br>)&para;<br>to&para;<br>a : Intalio!Activity (&para;<br>name &lt;- n.toIntalioName,&para;<br>eAnnotations &lt;- #EventStartEmpty&para;<br>)&para;<br>}&para;<br>&para;<br>rule edges {&para;<br>from&para;<br>f : UML!ControlFlow&para;<br>(&para;<br>f.source.transformed and f.target.transformed&para;<br>)&para;<br>to&para;<br>e : Intalio!SequenceEdge (&para;<br>source &lt;- f.source,&para;<br>target &lt;- f.target&para;<br>)&para;<br>}&para;<br>&para;<br>rule initialnode_message {&para;<br>from&para;<br>n : UML!</span><del style="background:#ffe6e6;">InitialNode</del><ins style="background:#e6ffe6;">ObjectFlow</ins><span>&para;<br>(&para;<br>n.incoming-&gt;exists(edge |&para;<br>if edge.source.endsWith(UML!AcceptEventAction) then&para;<br>not edge.isLeaf.trigger-&gt;exists(t |&para;<br>t.event.oclIsKindOf(UML!TimeEvent)&para;<br>)&para;<br>else&para;<br>false&para;<br>endif&para;<br>)&para;<br>)&para;<br>to&para;<br>activity : Intalio!Activity (&para;<br>activityType &lt;- #EventStartMessage,&para;<br>name &lt;- n.toIntalioName&para;<br>)&para;<br>}&para;<br>&para;<br>rule initialnode_timer {&para;<br>from&para;<br>n : UML!InitialNode&para;<br>(&para;<br>n.incoming-&gt;exists(edge |&para;<br>if edge.source.oclIsKindOf(UML!AcceptEventAction) then&para;<br>edge.source.oclAsType(UML!</span><del style="background:#ffe6e6;">Comment</del><ins style="background:#e6ffe6;">AcceptCallAction</ins><span>).trigger-&gt;exists(t |&para;<br>t.event.oclIsKindOf(UML!TimeEvent)&para;<br>)&para;<br>else&para;<br>false&para;<br>endif&para;<br>)&para;<br>)&para;<br>to&para;<br>activity : Intalio!</span><del style="background:#ffe6e6;">Artifact</del><ins style="background:#e6ffe6;">SubProcess</ins><span> (&para;<br>activityType &lt;- #EventStartTimer,&para;<br></span><del style="background:#ffe6e6;">author</del><ins style="background:#e6ffe6;">looping</ins><span> &lt;- n.toIntalioName&para;<br>)&para;<br>}&para;<br>&para;<br>rule executable2activity {&para;<br>from&para;<br>n : UML!ExecutableNode&para;<br>(&para;<br>not n.oclIsTypeOf(UML!OpaqueAction)&para;<br>)&para;<br>to&para;<br>a : Intalio!Activity (&para;<br>name &lt;- n.toIntalioName + '_exec_' + n.language&para;<br>)&para;<br>}&para;<br>&para;<br>rule objectnode {&para;<br>from&para;<br>n : UML!ObjectNode&para;<br>to&para;<br>a : Intalio!Artifact&para;<br>}&para;<br></span><ins style="background:#e6ffe6;">&para;<br>-- MUTATION "Argument Type Modification" from oclAsType:Comment to oclAsType:AcceptCallAction (line 125:6-125:40 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "Navigation Modification" from n.toIntalioName to n.body (line 66:12-66:27 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "Binding-target Modification" from author to looping (line 136:4-136:29 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "InPattern Element Modification" from n:InitialNode to n:ObjectFlow (line 100:3-100:22 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "Iterator Modification" from exists to select (line 53:18-57:5 of original transformation)&para;<br>&para;<br>&para;<br>-- MUTATION "OutPattern Element Modification" from activity:Artifact to activity:SubProcess (line 134:3-137:4 of original transformation)&para;<br>&para;<br></ins>